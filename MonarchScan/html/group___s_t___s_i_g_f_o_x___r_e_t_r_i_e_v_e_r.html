<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HT32SX Monarch Scan: ST_SIGFOX_RETRIEVER</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="htlogo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">HT32SX Monarch Scan
   </div>
   <div id="projectbrief">Monarch Scan application for HT32SX</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group___s_t___s_i_g_f_o_x___r_e_t_r_i_e_v_e_r.html','');});
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ST_SIGFOX_RETRIEVER</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group___r_e_t_r_i_e_v_e_r___e_r_r___c_o_d_e_s"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_e_t_r_i_e_v_e_r___e_r_r___c_o_d_e_s.html">Return Error codes definition for the ST_SIGFOX_RETRIEVER</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gafaf78a085aa971850fce85f40d20e79d"><td class="memItemLeft" align="right" valign="top">retr_error_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_t___s_i_g_f_o_x___r_e_t_r_i_e_v_e_r.html#gafaf78a085aa971850fce85f40d20e79d">enc_utils_retrieve_data</a> (uint32_t *id, uint8_t *pac, uint8_t *rcz)</td></tr>
<tr class="memdesc:gafaf78a085aa971850fce85f40d20e79d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the ID, PAC and RCZ number of the board and returns it to the caller. The ID should be used when opening the library. The PAC is used to register the node on the backend.  <a href="group___s_t___s_i_g_f_o_x___r_e_t_r_i_e_v_e_r.html#gafaf78a085aa971850fce85f40d20e79d">More...</a><br /></td></tr>
<tr class="separator:gafaf78a085aa971850fce85f40d20e79d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7430db198e2904ec9e7fd484890b4da5"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_t___s_i_g_f_o_x___r_e_t_r_i_e_v_e_r.html#ga7430db198e2904ec9e7fd484890b4da5">enc_utils_retrieve_data_from_flash</a> (<a class="el" href="struct_n_v_m___board_data_type.html">NVM_BoardDataType</a> *nvmBoardData)</td></tr>
<tr class="memdesc:ga7430db198e2904ec9e7fd484890b4da5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve board informations accordint to the <a class="el" href="struct_n_v_m___board_data_type.html" title="Record for board data.">NVM_BoardDataType</a> and returns it to the caller.  <a href="group___s_t___s_i_g_f_o_x___r_e_t_r_i_e_v_e_r.html#ga7430db198e2904ec9e7fd484890b4da5">More...</a><br /></td></tr>
<tr class="separator:ga7430db198e2904ec9e7fd484890b4da5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga60ab6f061ca8fbb260777e942fa62403"><td class="memItemLeft" align="right" valign="top"><a id="ga60ab6f061ca8fbb260777e942fa62403"></a>
retr_error_t&#160;</td><td class="memItemRight" valign="bottom"><b>enc_utils_encrypt</b> (uint8_t *encrypted_data, uint8_t *data_to_encrypt, uint16_t data_len, uint8_t *key, uint8_t useExternalKey)</td></tr>
<tr class="separator:ga60ab6f061ca8fbb260777e942fa62403"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7bdd65d2e7f622f19943b0c9a3b7be5e"><td class="memItemLeft" align="right" valign="top">retr_error_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_t___s_i_g_f_o_x___r_e_t_r_i_e_v_e_r.html#ga7bdd65d2e7f622f19943b0c9a3b7be5e">enc_utils_set_public_key</a> (uint8_t en)</td></tr>
<tr class="memdesc:ga7bdd65d2e7f622f19943b0c9a3b7be5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch the encryption key to the public key: <em>0x00,0x11,0x22,0x33,0x44,0x55,0x66,0x77,0x88,0x99,0xAA,0xBB,0xCC,0xDD,0xEE,0xFF</em>.  <a href="group___s_t___s_i_g_f_o_x___r_e_t_r_i_e_v_e_r.html#ga7bdd65d2e7f622f19943b0c9a3b7be5e">More...</a><br /></td></tr>
<tr class="separator:ga7bdd65d2e7f622f19943b0c9a3b7be5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae95c44ccb28062086937ce4457c9a4b9"><td class="memItemLeft" align="right" valign="top">retr_error_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_t___s_i_g_f_o_x___r_e_t_r_i_e_v_e_r.html#gae95c44ccb28062086937ce4457c9a4b9">enc_utils_set_test_key</a> (uint8_t en)</td></tr>
<tr class="memdesc:gae95c44ccb28062086937ce4457c9a4b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch the to the test KEY <em>0x0123456789ABCDEF0123456789ABCDEF</em>.  <a href="group___s_t___s_i_g_f_o_x___r_e_t_r_i_e_v_e_r.html#gae95c44ccb28062086937ce4457c9a4b9">More...</a><br /></td></tr>
<tr class="separator:gae95c44ccb28062086937ce4457c9a4b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4f635bc6561d1eeb6618d2ebf57ab21d"><td class="memItemLeft" align="right" valign="top">retr_error_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_t___s_i_g_f_o_x___r_e_t_r_i_e_v_e_r.html#ga4f635bc6561d1eeb6618d2ebf57ab21d">enc_utils_set_test_id</a> (uint8_t en)</td></tr>
<tr class="memdesc:ga4f635bc6561d1eeb6618d2ebf57ab21d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch the to the test ID <em>0xFEDCBA98</em>.  <a href="group___s_t___s_i_g_f_o_x___r_e_t_r_i_e_v_e_r.html#ga4f635bc6561d1eeb6618d2ebf57ab21d">More...</a><br /></td></tr>
<tr class="separator:ga4f635bc6561d1eeb6618d2ebf57ab21d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga127c70519ac9682a37cbb09be6bc267c"><td class="memItemLeft" align="right" valign="top">retr_error_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_t___s_i_g_f_o_x___r_e_t_r_i_e_v_e_r.html#ga127c70519ac9682a37cbb09be6bc267c">enc_utils_get_id</a> (uint8_t *id)</td></tr>
<tr class="memdesc:ga127c70519ac9682a37cbb09be6bc267c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the ID from the EEPROM on the board.  <a href="group___s_t___s_i_g_f_o_x___r_e_t_r_i_e_v_e_r.html#ga127c70519ac9682a37cbb09be6bc267c">More...</a><br /></td></tr>
<tr class="separator:ga127c70519ac9682a37cbb09be6bc267c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacd00a0efa7ddceab806771a05f3aff5f"><td class="memItemLeft" align="right" valign="top">retr_error_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_t___s_i_g_f_o_x___r_e_t_r_i_e_v_e_r.html#gacd00a0efa7ddceab806771a05f3aff5f">enc_utils_get_initial_pac</a> (uint8_t *pac)</td></tr>
<tr class="memdesc:gacd00a0efa7ddceab806771a05f3aff5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the PAC from the EEPROM on the board.  <a href="group___s_t___s_i_g_f_o_x___r_e_t_r_i_e_v_e_r.html#gacd00a0efa7ddceab806771a05f3aff5f">More...</a><br /></td></tr>
<tr class="separator:gacd00a0efa7ddceab806771a05f3aff5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga127c70519ac9682a37cbb09be6bc267c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga127c70519ac9682a37cbb09be6bc267c">&#9670;&nbsp;</a></span>enc_utils_get_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">retr_error_t enc_utils_get_id </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the ID from the EEPROM on the board. </p>
<hr  />
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">uint8_t</td><td>*id: pointer to the array where the ID should be stored. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>: The function <a class="el" href="group___s_t___s_i_g_f_o_x___r_e_t_r_i_e_v_e_r.html#gafaf78a085aa971850fce85f40d20e79d">enc_utils_retrieve_data</a> should be called in the initialization phase of the board. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Error</td><td>code: RETR_OK (0) or RETR_ERR (1) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gacd00a0efa7ddceab806771a05f3aff5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacd00a0efa7ddceab806771a05f3aff5f">&#9670;&nbsp;</a></span>enc_utils_get_initial_pac()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">retr_error_t enc_utils_get_initial_pac </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pac</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the PAC from the EEPROM on the board. </p>
<hr  />
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">uint8_t</td><td>*pac: pointer to the array where the PAC should be stored. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>: The function <a class="el" href="group___s_t___s_i_g_f_o_x___r_e_t_r_i_e_v_e_r.html#gafaf78a085aa971850fce85f40d20e79d">enc_utils_retrieve_data</a> should be called in the initialization phase of the board. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Error</td><td>code: RETR_OK (0) or RETR_ERR (1) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gafaf78a085aa971850fce85f40d20e79d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafaf78a085aa971850fce85f40d20e79d">&#9670;&nbsp;</a></span>enc_utils_retrieve_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">retr_error_t enc_utils_retrieve_data </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pac</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>rcz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the ID, PAC and RCZ number of the board and returns it to the caller. The ID should be used when opening the library. The PAC is used to register the node on the backend. </p>
<hr  />
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">id</td><td>pointer to the 32bits word variable where the ID of the board must be stored. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pac</td><td>pointer to the 8bytes array where the PAC of the board must be stored. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rcz</td><td>pointer to the byte where the RCZ number of this board must be stored. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Error</td><td>code: RETR_OK (0) or RETR_ERR (1) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga7430db198e2904ec9e7fd484890b4da5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7430db198e2904ec9e7fd484890b4da5">&#9670;&nbsp;</a></span>enc_utils_retrieve_data_from_flash()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">retr_error_t enc_utils_retrieve_data_from_flash </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_n_v_m___board_data_type.html">NVM_BoardDataType</a> *&#160;</td>
          <td class="paramname"><em>nvmBoardData</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve board informations accordint to the <a class="el" href="struct_n_v_m___board_data_type.html" title="Record for board data.">NVM_BoardDataType</a> and returns it to the caller. </p>
<hr  />
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">nvmBoardData</td><td>pointer to a struct of the type of <a class="el" href="struct_n_v_m___board_data_type.html" title="Record for board data.">NVM_BoardDataType</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Error</td><td>code: RETR_OK (0) or RETR_ERR (1) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga7bdd65d2e7f622f19943b0c9a3b7be5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7bdd65d2e7f622f19943b0c9a3b7be5e">&#9670;&nbsp;</a></span>enc_utils_set_public_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">retr_error_t enc_utils_set_public_key </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>en</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Switch the encryption key to the public key: <em>0x00,0x11,0x22,0x33,0x44,0x55,0x66,0x77,0x88,0x99,0xAA,0xBB,0xCC,0xDD,0xEE,0xFF</em>. </p>
<hr  />
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">uint8_t</td><td>en: if 1 switch to the public key, else restore the one associated with the board. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Error</td><td>code: RETR_OK (0) or RETR_ERR (1) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga4f635bc6561d1eeb6618d2ebf57ab21d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4f635bc6561d1eeb6618d2ebf57ab21d">&#9670;&nbsp;</a></span>enc_utils_set_test_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">retr_error_t enc_utils_set_test_id </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>en</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Switch the to the test ID <em>0xFEDCBA98</em>. </p>
<hr  />
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">uint8_t</td><td>en: if 1 switch to the test ID, else restore the one associated with the board. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Error</td><td>code: RETR_OK (0) or RETR_ERR (1) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae95c44ccb28062086937ce4457c9a4b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae95c44ccb28062086937ce4457c9a4b9">&#9670;&nbsp;</a></span>enc_utils_set_test_key()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">retr_error_t enc_utils_set_test_key </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>en</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Switch the to the test KEY <em>0x0123456789ABCDEF0123456789ABCDEF</em>. </p>
<hr  />
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">uint8_t</td><td>en: if 1 switch to the test KEY, else restore the one associated with the board. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Error</td><td>code: RETR_OK (0) or RETR_ERR (1) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.16 </li>
  </ul>
</div>
</body>
</html>
