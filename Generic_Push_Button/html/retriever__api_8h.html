<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HT32SX Generic Push Button: C:/Generic_Push_Button/ST_API/inc/retriever_api.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="htlogo_git2.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">HT32SX Generic Push Button
   </div>
   <div id="projectbrief">Generic Push Button application for HT32SX</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('retriever__api_8h.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">retriever_api.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This is used to retrieve the SigFox data as ID, PAC and AES-KEY. The AES-KEY is a private variable and is not returned to the user.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &quot;<a class="el" href="nvm__api_8h_source.html">nvm_api.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for retriever_api.h:</div>
<div class="dyncontent">
<div class="center"><img src="retriever__api_8h__incl.png" border="0" usemap="#_c_1_2_generic___push___button_2_s_t___a_p_i_2inc_2retriever__api_8h" alt=""/></div>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="retriever__api_8h__dep__incl.png" border="0" usemap="#_c_1_2_generic___push___button_2_s_t___a_p_i_2inc_2retriever__api_8hdep" alt=""/></div>
</div>
</div>
<p><a href="retriever__api_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga1c48e10d0d87e12cef6ebc9aaabb535b"><td class="memItemLeft" align="right" valign="top">
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RETR_OK</b>&#160;&#160;&#160;0     /* no error */</td></tr>
<tr class="separator:ga1c48e10d0d87e12cef6ebc9aaabb535b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad365ccf61727cadbdc5d1cc1d1c4005c"><td class="memItemLeft" align="right" valign="top">
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RETR_ERR</b>&#160;&#160;&#160;1     /* error */</td></tr>
<tr class="separator:gad365ccf61727cadbdc5d1cc1d1c4005c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a720c70158ae9e4f13c27617c637ff895"><td class="memItemLeft" align="right" valign="top"><a id="a720c70158ae9e4f13c27617c637ff895"></a>
typedef uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>retr_error_t</b></td></tr>
<tr class="separator:a720c70158ae9e4f13c27617c637ff895"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a2e06d8bcfc581302e2a6e3eff061ece5"><td class="memItemLeft" align="right" valign="top"><a id="a2e06d8bcfc581302e2a6e3eff061ece5"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>KEY_ENC_MODES</b> { <b>KEY_ENC_FIXED</b> = 0x01, 
<b>KEY_ENC_VARIABLE</b> = 0x02, 
<b>KEY_ENC_NONE</b> = 0x03
 }</td></tr>
<tr class="separator:a2e06d8bcfc581302e2a6e3eff061ece5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gafaf78a085aa971850fce85f40d20e79d"><td class="memItemLeft" align="right" valign="top">retr_error_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_t___s_i_g_f_o_x___r_e_t_r_i_e_v_e_r.html#gafaf78a085aa971850fce85f40d20e79d">enc_utils_retrieve_data</a> (uint32_t *id, uint8_t *pac, uint8_t *rcz)</td></tr>
<tr class="memdesc:gafaf78a085aa971850fce85f40d20e79d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the ID, PAC and RCZ number of the board and returns it to the caller. The ID should be used when opening the library. The PAC is used to register the node on the backend.  <a href="group___s_t___s_i_g_f_o_x___r_e_t_r_i_e_v_e_r.html#gafaf78a085aa971850fce85f40d20e79d">More...</a><br /></td></tr>
<tr class="separator:gafaf78a085aa971850fce85f40d20e79d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7430db198e2904ec9e7fd484890b4da5"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_t___s_i_g_f_o_x___r_e_t_r_i_e_v_e_r.html#ga7430db198e2904ec9e7fd484890b4da5">enc_utils_retrieve_data_from_flash</a> (<a class="el" href="struct_n_v_m___board_data_type.html">NVM_BoardDataType</a> *nvmBoardData)</td></tr>
<tr class="memdesc:ga7430db198e2904ec9e7fd484890b4da5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve board informations accordint to the <a class="el" href="struct_n_v_m___board_data_type.html" title="Record for board data.">NVM_BoardDataType</a> and returns it to the caller.  <a href="group___s_t___s_i_g_f_o_x___r_e_t_r_i_e_v_e_r.html#ga7430db198e2904ec9e7fd484890b4da5">More...</a><br /></td></tr>
<tr class="separator:ga7430db198e2904ec9e7fd484890b4da5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga60ab6f061ca8fbb260777e942fa62403"><td class="memItemLeft" align="right" valign="top">
retr_error_t&#160;</td><td class="memItemRight" valign="bottom"><b>enc_utils_encrypt</b> (uint8_t *encrypted_data, uint8_t *data_to_encrypt, uint16_t data_len, uint8_t *key, uint8_t useExternalKey)</td></tr>
<tr class="separator:ga60ab6f061ca8fbb260777e942fa62403"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7bdd65d2e7f622f19943b0c9a3b7be5e"><td class="memItemLeft" align="right" valign="top">retr_error_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_t___s_i_g_f_o_x___r_e_t_r_i_e_v_e_r.html#ga7bdd65d2e7f622f19943b0c9a3b7be5e">enc_utils_set_public_key</a> (uint8_t en)</td></tr>
<tr class="memdesc:ga7bdd65d2e7f622f19943b0c9a3b7be5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch the encryption key to the public key: <em>0x00,0x11,0x22,0x33,0x44,0x55,0x66,0x77,0x88,0x99,0xAA,0xBB,0xCC,0xDD,0xEE,0xFF</em>.  <a href="group___s_t___s_i_g_f_o_x___r_e_t_r_i_e_v_e_r.html#ga7bdd65d2e7f622f19943b0c9a3b7be5e">More...</a><br /></td></tr>
<tr class="separator:ga7bdd65d2e7f622f19943b0c9a3b7be5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae95c44ccb28062086937ce4457c9a4b9"><td class="memItemLeft" align="right" valign="top">retr_error_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_t___s_i_g_f_o_x___r_e_t_r_i_e_v_e_r.html#gae95c44ccb28062086937ce4457c9a4b9">enc_utils_set_test_key</a> (uint8_t en)</td></tr>
<tr class="memdesc:gae95c44ccb28062086937ce4457c9a4b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch the to the test KEY <em>0x0123456789ABCDEF0123456789ABCDEF</em>.  <a href="group___s_t___s_i_g_f_o_x___r_e_t_r_i_e_v_e_r.html#gae95c44ccb28062086937ce4457c9a4b9">More...</a><br /></td></tr>
<tr class="separator:gae95c44ccb28062086937ce4457c9a4b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4f635bc6561d1eeb6618d2ebf57ab21d"><td class="memItemLeft" align="right" valign="top">retr_error_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_t___s_i_g_f_o_x___r_e_t_r_i_e_v_e_r.html#ga4f635bc6561d1eeb6618d2ebf57ab21d">enc_utils_set_test_id</a> (uint8_t en)</td></tr>
<tr class="memdesc:ga4f635bc6561d1eeb6618d2ebf57ab21d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch the to the test ID <em>0xFEDCBA98</em>.  <a href="group___s_t___s_i_g_f_o_x___r_e_t_r_i_e_v_e_r.html#ga4f635bc6561d1eeb6618d2ebf57ab21d">More...</a><br /></td></tr>
<tr class="separator:ga4f635bc6561d1eeb6618d2ebf57ab21d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga127c70519ac9682a37cbb09be6bc267c"><td class="memItemLeft" align="right" valign="top">retr_error_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_t___s_i_g_f_o_x___r_e_t_r_i_e_v_e_r.html#ga127c70519ac9682a37cbb09be6bc267c">enc_utils_get_id</a> (uint8_t *id)</td></tr>
<tr class="memdesc:ga127c70519ac9682a37cbb09be6bc267c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the ID from the EEPROM on the board.  <a href="group___s_t___s_i_g_f_o_x___r_e_t_r_i_e_v_e_r.html#ga127c70519ac9682a37cbb09be6bc267c">More...</a><br /></td></tr>
<tr class="separator:ga127c70519ac9682a37cbb09be6bc267c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacd00a0efa7ddceab806771a05f3aff5f"><td class="memItemLeft" align="right" valign="top">retr_error_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_t___s_i_g_f_o_x___r_e_t_r_i_e_v_e_r.html#gacd00a0efa7ddceab806771a05f3aff5f">enc_utils_get_initial_pac</a> (uint8_t *pac)</td></tr>
<tr class="memdesc:gacd00a0efa7ddceab806771a05f3aff5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the PAC from the EEPROM on the board.  <a href="group___s_t___s_i_g_f_o_x___r_e_t_r_i_e_v_e_r.html#gacd00a0efa7ddceab806771a05f3aff5f">More...</a><br /></td></tr>
<tr class="separator:gacd00a0efa7ddceab806771a05f3aff5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This is used to retrieve the SigFox data as ID, PAC and AES-KEY. The AES-KEY is a private variable and is not returned to the user. </p>
<dl class="section author"><dt>Author</dt><dd>LowPower RF BU - AMG </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.3.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Feb 15, 2019</dd></dl>
<p>THE PRESENT FIRMWARE WHICH IS FOR GUIDANCE ONLY AIMS AT PROVIDING CUSTOMERS WITH CODING INFORMATION REGARDING THEIR PRODUCTS IN ORDER FOR THEM TO SAVE TIME. AS A RESULT, STMICROELECTRONICS SHALL NOT BE HELD LIABLE FOR ANY DIRECT, INDIRECT OR CONSEQUENTIAL DAMAGES WITH RESPECT TO ANY CLAIMS ARISING FROM THE CONTENT OF SUCH FIRMWARE AND/OR THE USE MADE BY CUSTOMERS OF THE CODING INFORMATION CONTAINED HEREIN IN CONNECTION WITH THEIR PRODUCTS.</p>
<p>THIS SOURCE CODE IS PROTECTED BY A LICENSE. FOR MORE INFORMATION PLEASE CAREFULLY READ THE LICENSE AGREEMENT FILE LOCATED IN THE ROOT DIRECTORY OF THIS FIRMWARE PACKAGE.</p>
<h2><center>&copy; COPYRIGHT 2019 STMicroelectronics</center></h2>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_00a68528b393d3b678ff8a9fe59ce2e1.html">Generic_Push_Button</a></li><li class="navelem"><a class="el" href="dir_c4d9a9c269c47f78f32b38b2f4649794.html">ST_API</a></li><li class="navelem"><a class="el" href="dir_4a5ba980e2ca8aef17c8ec0c385f4475.html">inc</a></li><li class="navelem"><a class="el" href="retriever__api_8h.html">retriever_api.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.16 </li>
  </ul>
</div>
</body>
</html>
